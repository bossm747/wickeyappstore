<div *ngIf="showContainer" class="was-popup-container">
  <div *ngIf="showMe" class="was-popup" [@enterLeaveAnim] (@enterLeaveAnim.done)="overlayAnimationDone($event)">
    <was-spinner [busy]="busy" [message]='"Getting app details.."'></was-spinner>
    <div class="was-page-content-margin">&nbsp;</div>
    <header>
      <mat-toolbar role="header" class="was-titlebar" color="primary">
        <button class="main-header-sidebar" mat-icon-button (click)="closeOverlay($event)" title="back">
          <mat-icon>arrow_back</mat-icon>
        </button>
        <span class="main-header-text">App Details</span>
        <button class="main-header-sidebar" mat-icon-button (click)="onShareBtn()" title="share">
          <mat-icon>share</mat-icon>
        </button>
        <textarea class="was-share-link">https://wickeyappstore.com/app/{{selected_app?.slug}}</textarea>
      </mat-toolbar>
    </header>
    <div class="was-popup-content">
      <div class="was-popup-panel">
        <mat-card>
          <mat-card-title-group>
            <img mat-card-md-image src="{{selected_app?.icon}}">
            <mat-card-title>{{selected_app?.name}}</mat-card-title>
            <mat-card-subtitle>{{selected_app?.owner}}</mat-card-subtitle>
          </mat-card-title-group>
          <mat-card-actions>
            <was-reviews *ngIf="selected_app" [store_app]="selected_app" (changeReviewState)="handleReviews($event)"></was-reviews>
            <a mat-button color="accent" href={{selected_app?.app_url}} target={{selected_app?.slug}}>LAUNCH APP</a>
          </mat-card-actions>
        </mat-card>
        <div *ngIf="hasscreenshots">
          <h3 class="lower-title-text">Screenshots</h3>
          <swiper [config]="config">
            <div class="swiper-wrapper">
              <div *ngIf="selected_app.app_video" class="screenshot-group swiper-slide">
                <video width=100% height=100% controls>
                  <source src={{selected_app?.app_video}} type="video/mp4">
                </video>
              </div>
              <div class="screenshot-group swiper-slide">
                <img class="img-screenshot was-loading" src={{selected_app?.screenshot_1}} alt="screenshot">
              </div>
              <div *ngIf="selected_app?.screenshot_2" class="screenshot-group swiper-slide">
                <img class="img-screenshot was-loading" src={{selected_app?.screenshot_2}} alt="screenshot">
              </div>
              <div *ngIf="selected_app?.screenshot_3" class="screenshot-group swiper-slide">
                <img class="img-screenshot was-loading" src={{selected_app?.screenshot_3}} alt="screenshot">
              </div>
              <div *ngIf="selected_app?.screenshot_4" class="screenshot-group swiper-slide">
                <img class="img-screenshot was-loading" src={{selected_app.screenshot_4}} alt="screenshot">
              </div>
            </div>
          </swiper>
          <div class="dark-circle-separator"></div>
        </div>
        <h3 class="lower-title-text">Description</h3>
        <div class="description-body">{{selected_app?.text}}</div>
        <div class="dark-circle-separator"></div>
        <h3 class="lower-title-text">Information</h3>
        <div class="description-body">Seller: {{selected_app?.owner}}</div>
        <div class="description-body">Category: {{selected_app?.category | getCategory}}</div>
        <br>
        <br>
        <br>

      </div>
    </div>
    <app-group-reviews *ngIf="selected_app" [open]="showReviews" (close)="handleReviews($event)" [storeapp_id]="selected_app.id"
      [title]="getReviewTitle()"></app-group-reviews>
  </div>
</div>